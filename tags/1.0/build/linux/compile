#!/bin/bash
. ./paths
if [ ! -d "obj" ] 
then
  mkdir obj
fi
if [ ! -d "./obj/olex" ] 
then
  mkdir obj/olex
fi
if [ ! -d "./obj/unirun" ] 
then
  mkdir obj/unirun
fi

cd obj

src=../../..
echo Compiling Olex2 libraries ...
gcc $src/alglib/*.cpp $src/sdl/*.cpp $src/sdl/smart/*.cpp $src/xlib/*.cpp $src/xlib/macro/*.cpp $src/glib/*.cpp $src/gxlib/*.cpp $src/repository/filesystem.cpp $src/repository/shellutil.cpp $src/repository/httpex.cpp $src/repository/url.cpp $src/repository/wxhttpfs.cpp $src/repository/wxzipfs.cpp $src/repository/fsext.cpp $src/repository/pyext.cpp $src/repository/integration.cpp  $src/repository/IsoSurface.cpp $src/repository/eprocess.cpp $src/repository/olxvar.cpp $src/repository/py_core.cpp `wx-config --cxxflags --unicode --toolkit=gtk2` `python-config --includes` -I$src/sdl -I$src/xlib -I$src/glib -I$src/gxlib -I$src/repository -I$src/olex -I$src/alglib -S -D__WXWIDGETS__ -D_UNICODE -fexceptions -combine -O3

src=../../../..

echo Compiling unirun ...
cd unirun
gcc $src/unirun/*.cpp `wx-config --cxxflags --unicode --toolkit=gtk2` `python-config --includes` -I$src/sdl -I$src/xlib -I$src/glib -I$src/gxlib -I$src/repository -I$src/olex -I$src/alglib -S -D__WXWIDGETS__ -D_UNICODE -fexceptions -combine -O3

echo Compiling olex2 ...
cd ../olex
gcc $src/olex/*.cpp $src/olex/macro/*.cpp `wx-config --cxxflags --unicode --toolkit=gtk2` `python-config --includes` -I$src/sdl -I$src/xlib -I$src/glib -I$src/gxlib -I$src/repository -I$src/olex -I$src/alglib -S -D__WXWIDGETS__ -D_UNICODE -fexceptions -combine -O3


cd ../..
